{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectSpread from\"@babel/runtime/helpers/objectSpread\";var shownWarnings=[];var validations=_objectSpread({transparentCard:{message:\"'transparentCard' is removed in favor of 'cardStyle: { backgroundColor: 'transparent' }' in 'navigationOptions'. Specify it in 'defaultNavigationOptions' to keep the same behaviour.\",compat:function compat(c,o){return c.transparentCard?_objectSpread({},o,{cardStyle:[{backgroundColor:'transparent'},o.cardStyle]}):o;}},headerLayoutPreset:{message:\"'headerLayoutPreset' is renamed to 'headerTitleAlign' and moved to 'navigationOptions'. Specify it in 'defaultNavigationOptions' to keep the same behaviour.\",compat:function compat(c,o){return _objectSpread({},o,{headerTitleAlign:c.headerLayoutPreset});}},headerTransitionPreset:{message:\"'headerTransitionPreset' is removed in favor of the new animation APIs\"},transitionConfig:{message:\"'transitionConfig' is removed in favor of the new animation APIs\"}},['cardShadowEnabled','cardOverlayEnabled','cardStyle','headerBackTitleVisible','onTransitionStart','onTransitionEnd'].reduce(function(acc,name){acc[name]={message:\"'\"+name+\"' is moved to 'navigationOptions'. Specify it in 'defaultNavigationOptions' to keep the same behaviour.\",compat:function compat(c,o){return _objectSpread({},o,_defineProperty({},name,function(){return c[name];}));}};return acc;},{}));export default function validateDeprecatedConfig(config,options){var result=options;Object.keys(validations).forEach(function(name){if(name in config){var _validations$name=validations[name],compat=_validations$name.compat,message=_validations$name.message;result=compat?compat(config,result):result;if(process.env.NODE_ENV!=='production'){if(shownWarnings.includes(message)){return;}console.warn(\"Deprecation in 'createStackNavigator':\\n\"+message);shownWarnings.push(message);}}});return result;}","map":{"version":3,"sources":["validateDeprecatedConfig.tsx"],"names":["shownWarnings","validations","transparentCard","message","compat","c","cardStyle","backgroundColor","o","headerLayoutPreset","headerTitleAlign","headerTransitionPreset","transitionConfig","acc","result","Object","name","process","console"],"mappings":"kIAUA,GAAMA,CAAAA,aAAuB,CAA7B,EAAA,CAEA,GAAMC,CAAAA,WAAuC,CAAA,aAAA,CAAA,CAC3CC,eAAe,CAAE,CACfC,OAAO,CADQ,uLAAA,CAEfC,MAAM,CAAE,QAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MACNC,CAAAA,CAAC,CAADA,eAAAA,CAAAA,aAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAGMC,SAAS,CAAE,CAAC,CAAEC,eAAe,CAAlB,aAAC,CAAD,CAAqCC,CAAC,CAHvDH,SAGiB,CAHjBA,CAAAA,CAAAA,CADM,CAAA,CAHiC,CAC1B,CAD0B,CAW3CI,kBAAkB,CAAE,CAClBN,OAAO,CADW,8JAAA,CAElBC,MAAM,CAAE,QAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,aAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAmBM,gBAAgB,CAAEL,CAAC,CAAtC,kBAAA,CAAA,CAAA,CAbiC,CAWvB,CAXuB,CAe3CM,sBAAsB,CAAE,CACtBR,OAAO,CAhBkC,wEAenB,CAfmB,CAkB3CS,gBAAgB,CAAE,CAChBT,OAAO,CAnBkC,kEAkBzB,CAlByB,CAAA,CAqBxC,CAAA,mBAAA,CAAA,oBAAA,CAAA,WAAA,CAAA,wBAAA,CAAA,mBAAA,CAAA,iBAAA,EAAA,MAAA,CAOkC,SAAA,GAAA,CAAA,IAAA,CAAe,CAClDU,GAAG,CAAHA,IAAG,CAAHA,CAAY,CACVV,OAAO,CAAA,IAAA,IAAA,CADG,yGAAA,CAEVC,MAAM,CAAE,QAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,aAAA,CAAA,EAAA,CAAA,CAAA,CAAA,eAAA,CAAA,EAAA,CAAA,IAAA,CAA2B,UAAA,CAAA,MAAMC,CAAAA,CAAC,CAAP,IAAO,CAAP,CAA3B,CAAA,CAAA,CAAA,CAFVQ,CAAY,CAAZA,CAKA,MAAA,CAAA,GAAA,CAbC,CAAA,CArBL,EAqBK,CArBwC,CAA7C,CAsCA,cAAe,SAAA,CAAA,wBAAA,CAAA,MAAA,CAAA,OAAA,CAGb,CACA,GAAIC,CAAAA,MAAM,CAAV,OAAA,CAEAC,MAAM,CAANA,IAAAA,CAAAA,WAAAA,EAAAA,OAAAA,CAAiC,SAAA,IAAA,CAAQ,CACvC,GAAIC,IAAI,GAAR,CAAA,MAAA,CAAoB,CAAA,GAAA,CAAA,iBAAA,CACUf,WAAW,CADrB,IACqB,CADrB,CACVG,MADU,CAAA,iBAAA,CAAA,MAAA,CACFD,OADE,CAAA,iBAAA,CAAA,OAAA,CAGlBW,MAAM,CAAGV,MAAM,CAAGA,MAAM,CAAA,MAAA,CAAT,MAAS,CAAT,CAAfU,MAAAA,CAEA,GAAIG,OAAO,CAAPA,GAAAA,CAAAA,QAAAA,GAAJ,YAAA,CAA2C,CACzC,GAAIjB,aAAa,CAAbA,QAAAA,CAAJ,OAAIA,CAAJ,CAAqC,CACnC,OAGFkB,CAAAA,OAAO,CAAPA,IAAAA,CAAAA,2CAAAA,OAAAA,EACAlB,aAAa,CAAbA,IAAAA,CAAAA,OAAAA,EAEH,CACF,CAfDe,CAAAA,EAiBA,MAAA,CAAA,MAAA,CACD","sourcesContent":["import { StackNavigationOptions, StackNavigationConfig } from '../vendor/types';\n\ntype Validation = {\n  message: string;\n  compat?: (\n    c: Record<string, any>,\n    o: StackNavigationOptions\n  ) => StackNavigationOptions;\n};\n\nconst shownWarnings: string[] = [];\n\nconst validations: Record<string, Validation> = {\n  transparentCard: {\n    message: `'transparentCard' is removed in favor of 'cardStyle: { backgroundColor: 'transparent' }' in 'navigationOptions'. Specify it in 'defaultNavigationOptions' to keep the same behaviour.`,\n    compat: (c, o) =>\n      c.transparentCard\n        ? {\n            ...o,\n            cardStyle: [{ backgroundColor: 'transparent' }, o.cardStyle],\n          }\n        : o,\n  },\n  headerLayoutPreset: {\n    message: `'headerLayoutPreset' is renamed to 'headerTitleAlign' and moved to 'navigationOptions'. Specify it in 'defaultNavigationOptions' to keep the same behaviour.`,\n    compat: (c, o) => ({ ...o, headerTitleAlign: c.headerLayoutPreset }),\n  },\n  headerTransitionPreset: {\n    message: `'headerTransitionPreset' is removed in favor of the new animation APIs`,\n  },\n  transitionConfig: {\n    message: `'transitionConfig' is removed in favor of the new animation APIs`,\n  },\n  ...[\n    'cardShadowEnabled',\n    'cardOverlayEnabled',\n    'cardStyle',\n    'headerBackTitleVisible',\n    'onTransitionStart',\n    'onTransitionEnd',\n  ].reduce<Record<string, Validation>>((acc, name) => {\n    acc[name] = {\n      message: `'${name}' is moved to 'navigationOptions'. Specify it in 'defaultNavigationOptions' to keep the same behaviour.`,\n      compat: (c, o) => ({ ...o, [name]: () => c[name] }),\n    };\n\n    return acc;\n  }, {}),\n};\n\nexport default function validateDeprecatedConfig(\n  config: StackNavigationConfig,\n  options: StackNavigationOptions\n) {\n  let result = options;\n\n  Object.keys(validations).forEach(name => {\n    if (name in config) {\n      const { compat, message } = validations[name];\n\n      result = compat ? compat(config, result) : result;\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (shownWarnings.includes(message)) {\n          return;\n        }\n\n        console.warn(`Deprecation in 'createStackNavigator':\\n${message}`);\n        shownWarnings.push(message);\n      }\n    }\n  });\n\n  return result;\n}\n"]},"metadata":{},"sourceType":"module"}